var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,l){function r(e){try{s(a.next(e))}catch(t){l(t)}}function o(e){try{s(a["throw"](e))}catch(t){l(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,o)}s((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return a([e,t])}}function a(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,l&&(r=l[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(l,n[1])).done)return r;switch(l=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,l=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){s.label=n[1];break}if(6===n[0]&&s.label<r[1]){s.label=r[1],r=n;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(n);break}r[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(a){n=[6,a],l=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,l,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},PigData=function(){function e(){}return e.levelInfo=[{level:1,name:"友善福猪",source:"pig28Imgs_json.pig_1",value:4,value4:16,buy:107,sell:80,callMin:1,callMax:1},{level:2,name:"和谐福猪",source:"pig28Imgs_json.pig_2",value:8,value4:32,buy:1500,sell:1200,callMin:1,callMax:1},{level:3,name:"报喜福猪",source:"pig28Imgs_json.pig_3",value:17,value4:68,buy:6750,sell:5400,callMin:1,callMax:1},{level:4,name:"旺财福猪",source:"pig28Imgs_json.pig_4",value:34,value4:136,buy:17900,sell:14364,callMin:1,callMax:1},{level:5,name:"高升福猪",source:"pig28Imgs_json.pig_5",value:71,value4:284,buy:47700,sell:38208,callMin:1,callMax:1},{level:6,name:"祥瑞福猪",source:"pig28Imgs_json.pig_6",value:145,value4:580,buy:127e3,sell:101634,callMin:1,callMax:2},{level:7,name:"昌盛福猪",source:"pig28Imgs_json.pig_7",value:297,value4:1188,buy:337e3,sell:270346,callMin:1,callMax:3},{level:8,name:"兴隆福猪",source:"pig28Imgs_json.pig_8",value:609,value4:2436,buy:898e3,sell:719121,callMin:1,callMax:4},{level:9,name:"吉利福猪",source:"pig28Imgs_json.pig_9",value:1248,value4:4992,buy:23900,sell:1912862,callMin:2,callMax:5},{level:10,name:"兴旺福猪",source:"pig28Imgs_json.pig_10",value:2558,value4:10232,buy:63600,sell:5088212,callMin:3,callMax:6},{level:11,name:"快乐福猪",source:"pig28Imgs_json.pig_11",value:5243,value4:20972,buy:169e3,sell:13534644,callMin:4,callMax:7},{level:12,name:"健康福猪",source:"pig28Imgs_json.pig_12",value:10740,value4:42960,buy:45e4,sell:36002154,callMin:5,callMax:8},{level:13,name:"幸福福猪",source:"pig28Imgs_json.pig_13",value:22030,value4:88120,buy:119e4,sell:95765731,callMin:6,callMax:9},{level:14,name:"爱国福猪",source:"pig28Imgs_json.pig_14",value:45170,value4:180680,buy:318e4,sell:254736843,callMin:7,callMax:10},{level:15,name:"恒心福猪",source:"pig28Imgs_json.pig_15",value:92600,value4:370400,buy:847e4,sell:6776003,callMin:8,callMax:11},{level:16,name:"自由福猪",source:"pig28Imgs_json.pig_16",value:189800,value4:759200,buy:225e5,sell:1802416009,callMin:9,callMax:12},{level:17,name:"卖萌福猪",source:"pig28Imgs_json.pig_17",value:389100,value4:1556400,buy:599e5,sell:4794426583,callMin:10,callMax:13},{level:18,name:"成才福猪",source:"pig28Imgs_json.pig_18",value:797700,value4:3190800,buy:159e4,sell:12753174710,callMin:11,callMax:14},{level:19,name:"招财福猪",source:"pig28Imgs_json.pig_19",value:1635e3,value4:65400,buy:424e4,sell:33923444730,callMin:12,callMax:15},{level:20,name:"富强福猪",source:"pig28Imgs_json.pig_20",value:3352e3,value4:13408e3,buy:112e5,sell:90236362981,callMin:13,callMax:16},{level:21,name:"敬业福猪",source:"pig28Imgs_json.pig_21",value:6872e3,value4:27488e3,buy:3e3,sell:240028725531,callMin:14,callMax:17},{level:22,name:"麒麟福猪",source:"pig28Imgs_json.pig_22",value:140800,value4:563200,buy:798e5,sell:638476409912,callMin:15,callMax:18},{level:23,name:"颜值福猪",source:"pig28Imgs_json.pig_23",value:288800,value4:1155200,buy:212e3,sell:1698347250365,callMin:16,callMax:19},{level:24,name:"团圆福猪",source:"pig28Imgs_json.pig_24",value:592100,value4:2368400,buy:564e3,sell:4517603685970,callMin:17,callMax:20},{level:25,name:"学霸福猪",source:"pig28Imgs_json.pig_25",value:1213e3,value4:4852e3,buy:15e3,sell:0xaede2a2278a,callMin:18,callMax:21},{level:26,name:"事业福猪",source:"pig28Imgs_json.pig_26",value:2488e3,value4:9952e3,buy:399e3,sell:31964756640453,callMin:19,callMax:22},{level:27,name:"财富福猪",source:"pig28Imgs_json.pig_27",value:5101e3,value4:20404e3,buy:106e3,sell:85026252663604,callMin:20,callMax:23},{level:28,name:"爱情福猪",source:"pig28Imgs_json.pig_28",value:1045e4,value4:418e5,buy:282e3,sell:0xcdb3448016c4,callMin:21,callMax:24},{level:29,name:"鸿运福猪",source:"pig37Imgs_json.pig_29",value:2143e4,value4:8572e4,buy:752e3,sell:601611753346599,callMin:22,callMax:25},{level:30,name:"平安福猪",source:"pig37Imgs_json.pig_30",value:4394e4,value4:17576e4,buy:2e5,sell:0x5af73e9e748fe,callMin:23,callMax:26},{level:31,name:"桃花福猪",source:"pig37Imgs_json.pig_31",value:9008e4,value4:36032e4,buy:532e3,sell:0xf1f8121621936,callMin:24,callMax:27},{level:32,name:"长寿福猪",source:"pig37Imgs_json.pig_32",value:1846e5,value4:7384e5,buy:141e4,sell:0x283a33a5996c3c,callMin:25,callMax:28},{level:33,name:"顺利福猪",source:"pig37Imgs_json.pig_33",value:3786e5,value4:15144e5,buy:376e4,sell:0x6b013775ef24a0,callMin:26,callMax:29},{level:34,name:"如意福猪",source:"pig37Imgs_json.pig_34",value:7572e5,value4:30288e5,buy:1e5,sell:80116966189126200,callMin:27,callMax:30},{level:35,name:"梦想福猪",source:"pig37Imgs_json.pig_35",value:1514e4,value4:6056e4,buy:266e5,sell:0x2f51f7195177aa0,callMin:28,callMax:31},{level:36,name:"财神福猪",source:"pig37Imgs_json.pig_36",value:3028e4,value4:12112e4,buy:7077e4,sell:0x7ddf25c358b3c80,callMin:29,callMax:32},{level:37,name:"天蓬福猪",source:"pig37Imgs_json.pig_37",value:6057e4,value4:24228e4,buy:18824e4,sell:0x35922becbd4dd8,callMin:30,callMax:33}],e.testLevel=[{image:"pig28Imgs_json.pig_1",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_12",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_13",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_14",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_16",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_18",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"},{image:"pig28Imgs_json.pig_19",name:"亚特伍德",value:"评价: 力量+100, 智力 -500"}],e}();__reflect(PigData.prototype,"PigData");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function a(a){t.call(n,a,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?a(i):RES.getResAsync(e,a,this)}else RES.getResByUrl(e,a,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=n.sent(),this.startAnimation(e),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return t=n.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,this.loadTheme()];case 2:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 3:return n.sent(),this.stage.removeChild(e),[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,n){var a=new eui.Theme("resource/default.thm.json",e.stage);a.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){SceneManager.instance.setScene(this),SceneManager.toStartScene()},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},t.prototype.startAnimation=function(e){var t=this,n=new egret.HtmlTextParser,a=e.map(function(e){return n.parse(e)}),i=this.textfield,l=-1,r=function(){l++,l>=a.length&&(l=0);var e=a[l];i.textFlow=e;var n=egret.Tween.get(i);n.to({alpha:1},200),n.wait(2e3),n.to({alpha:0},200),n.call(r,t)};r()},t}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,a){function i(e){t.call(a,e)}function l(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,l,null),n.call(a))}var r=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(a,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(a,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var o=e.split("/");o.pop();var s=o.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(a,generateJSON.paths[e])},this):RES.getResByUrl(s,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(a,generateJSON.paths[e])},r)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(a,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,l,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var GameUtil=function(){function e(){}return e.getStageHeight=function(){return SceneManager.instance._stage.height},e.getStageWidth=function(){return SceneManager.instance._stage.width},e.createBitmapByName=function(e,t){void 0===t&&(t="png");var n=new egret.Bitmap,a=RES.getRes(e+"_"+t);return n.texture=a,n},e}();__reflect(GameUtil.prototype,"GameUtil");var HttpServer=function(){function e(){}return e.ListenEvent=function(e,t){e.addEventListener(egret.Event.COMPLETE,function(e){var n=e.currentTarget,a=n.response;t&&t(JSON.parse(a))},null),e.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){t&&t(e)},null)},e.get=function(t,n){var a=new egret.HttpRequest;a.responseType=egret.HttpResponseType.TEXT,a.open(t,egret.HttpMethod.GET),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.ListenEvent(a,n),a.send()},e.post=function(t,n,a){var i=e.queryString(n),l=new egret.HttpRequest;l.responseType=egret.HttpResponseType.TEXT,l.open(t,egret.HttpMethod.POST),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.ListenEvent(l,a),l.send(i)},e.put=function(t,n,a){var i=JSON.stringify(n),l=new egret.HttpRequest;l.responseType=egret.HttpResponseType.TEXT,l.open(t,egret.HttpMethod.POST),l.setRequestHeader("Content-Type","application/json"),e.ListenEvent(l,a),l.send(i)},e.jsonp=function(e,t,n){},e.queryString=function(e){if(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n].toString()+"&");return t.substr(0,t.length-1)}},e.getUserData=function(e){},e.isTimeout=!1,e}();__reflect(HttpServer.prototype,"HttpServer");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var PigDocScene=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/pig/PigDocScene.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene("docScene")},this)},t}(eui.Component);__reflect(PigDocScene.prototype,"PigDocScene",["eui.UIComponent","egret.DisplayObject"]);var PigGiftScene=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/pig/PigGiftScene.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene("giftScene")},this)},t}(eui.Component);__reflect(PigGiftScene.prototype,"PigGiftScene",["eui.UIComponent","egret.DisplayObject"]);var PigRankScene=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/pig/PigRankScene.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dclose.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene("rankScene")},this)},t}(eui.Component);__reflect(PigRankScene.prototype,"PigRankScene",["eui.UIComponent","egret.DisplayObject"]);var PigShopScene=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/pig/PigShopScene.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),console.log(PigData.levelInfo);var t=new eui.ArrayCollection(PigData.levelInfo);this.myList.dataProvider=t,this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene("shopScene")},this)},t}(eui.Component);__reflect(PigShopScene.prototype,"PigShopScene",["eui.UIComponent","egret.DisplayObject"]);var PigStartScene=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/pig/PigStartScene.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.playDoc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPlayDocClick,this),this.ranking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRankingClick,this),this.gift.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGiftClick,this),this.addGift.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGiftClick,this),this.pigShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onShopClick,this),this.startCall.addEventListener(egret.TouchEvent.TOUCH_TAP,this.faceTween,this),this.pigPulsate()},t.prototype.pigPulsate=function(){console.log(this.app_MyGroup.$children);for(var e=this.app_MyGroup.$children.length,t=0;e>t;t++){var n=egret.Tween.get(this.app_MyGroup.$children[t],{loop:!0});n.to({scaleY:.37,scaleX:.37},500).to({scaleY:.35,scaleX:.35},500).wait(5e3)}var a=egret.Tween.get(this.recover,{loop:!0});a.to({scaleY:1.1,scaleX:1.1},500).to({scaleY:1,scaleX:1},500).wait(2e3)},t.prototype.faceTween=function(){var e=egret.Tween.get(this.pigShop);e.to({x:360,y:500},3e3,egret.Ease.backInOut).wait(100).to({x:560,y:1200},3e3,egret.Ease.backIn).wait(200)},t.prototype.testExml=function(){var e=new eui.Button;this.addChild(e)},t.prototype.onPlayDocClick=function(e){SceneManager.addScene("docScene")},t.prototype.onRankingClick=function(e){SceneManager.addScene("rankScene")},t.prototype.onGiftClick=function(e){SceneManager.addScene("giftScene")},t.prototype.onShopClick=function(e){SceneManager.addScene("shopScene")},t}(eui.Component);__reflect(PigStartScene.prototype,"PigStartScene",["eui.UIComponent","egret.DisplayObject"]);var SceneManager=function(){function e(){this.mainScene=new Main,this.startScene=new PigStartScene,this.rankScene=new PigRankScene,this.docScene=new PigDocScene,this.giftScene=new PigGiftScene,this.shopScene=new PigShopScene,this.testScene=new TestDemoUi}return Object.defineProperty(e,"instance",{get:function(){return this.sceneManager||(this.sceneManager=new e),this.sceneManager},enumerable:!0,configurable:!0}),e.prototype.removeOtherScene=function(e){var t=this,n=[this.startScene,this.mainScene];n.forEach(function(n){e!==n&&n.parent&&t._stage.removeChild(n)})},e.removeScene=function(e){console.log("removeScene"),this.instance._stage.removeChild(this.instance[e])},e.addScene=function(e){console.log("addScene"),this.instance._stage.addChild(this.instance[e])},e.prototype.setScene=function(e){this._stage=e},e.toStartScene=function(){this.instance._stage.addChild(this.instance.startScene)},e.toMainScene=function(){this.instance._stage.addChild(this.instance.mainScene)},e}();__reflect(SceneManager.prototype,"SceneManager");var TestDemoUi=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/TestDemoUi.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),console.log(this.myPig);var t=egret.Tween.get(this.myPig,{loop:!0});t.to({x:300},3e3,egret.Ease.backInOut).to({x:50},0).wait(1e3);var n=new eui.ArrayCollection(PigData.testLevel);this.myList.dataProvider=n},t}(eui.Component);__reflect(TestDemoUi.prototype,"TestDemoUi",["eui.UIComponent","egret.DisplayObject"]);